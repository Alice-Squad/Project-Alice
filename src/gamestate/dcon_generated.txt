include{<array>}
include{"modifiers.hpp"}

make_index{text_key}{uint32_t}
make_index{text_sequence_id}{uint16_t}
make_index{texture_id}{uint16_t}
make_index{gfx_object_id}{uint16_t}
make_index{gui_def_id}{uint16_t}
make_index{government_type_id}{uint8_t}
make_index{crime_id}{uint8_t}

object{
	name{ national_identity }
	storage_type{contiguous}
	size{ 1000 }
}

object{
	name{ religion }
	storage_type{ contiguous }
	size{ 126 }
	property{
		name{ name }
		type{ text_sequence_id }
	}
	property{
		name{ color }
		type{ uint32_t }
	}
	property{
		name{ icon }
		type{ uint8_t }
	}
	property{
		name{ is_pagan }
		type{ bitfield }
	}
}

object {
	name{ culture_group }
	storage_type{ contiguous }
	size{ 126 }

	property{
		name{ name }
		type{ text_sequence_id }
	}

	property{
		name{ is_overseas }
		type{ bitfield }
	}

	property{
		name{ leader }
		type{ uint8_t }
	}
}

object {
	name{ culture }
	storage_type{ contiguous }
	size{ 500 }

	property{
		name{ name }
		type{ text_sequence_id }
	}

	property{
		name{ color }
		type{ uint32_t }
	}
	property{
		name{ radicalism }
		type{ int8_t }
	}

	property{
		name{ first_names }
		type{vector_pool{10000}{text_key}}
	}
	property{
		name{ last_names }
		type{vector_pool{10000}{text_key}}
	}
}

relationship{
	name{culture_group_membership}
	
	link{
		object{culture}
		name{member}
		type{unique}
	}
	link{
		object{culture_group}
		name{group}
		type{many}
		index_storage{array}
	}
}

relationship{
	name{ cultural_union_of }
	
	link{
		object{national_identity}
		name{identity}
		type{unique}
	}
	link{
		object{culture_group}
		name{culture_group}
		type{unique}
	}
}

object {
	name{ commodity }
	storage_type{ contiguous }
	size{ 126 }

	property{
		name{ name }
		type{ text_sequence_id }
	}

	property{
		name{ color }
		type{ uint32_t }
	}
	property{
		name{ cost }
		type{ float }
	}
	property{
		name{ commodity_group }
		type{ uint8_t }
	}
	property{
		name{ is_available_from_start }
		type{ bitfield }
	}
}

object {
	name{ modifier }
	storage_type{ contiguous }
	size{ 1000 }

	property{
		name{ name }
		type{ text_sequence_id }
	}
	property{
		name{ province_values }
		type{ sys::modifier_definition }
	}
	property{
		name{ national_values }
		type{ sys::modifier_definition }
	}
	property{
		name{ icon }
		type{ uint8_t }
	}
}

object {
	name{ factory_type }
	storage_type{ contiguous }
	size{ 40 }

	property{
		name{ name }
		type{ text_sequence_id }
	}
	property{
		name{ construction_costs }
		type{array{commodity_id}{float}}
	}
	property{
		name{ construction_time }
		type{int16_t}
	}
	property{
		name{ is_available_from_start }
		type{ bitfield }
	}
}


object {
	name{ ideology_group }
	storage_type{ contiguous }
	size{ 32 }

	property{
		name{ name }
		type{ text_sequence_id }
	}
}

object {
	name{ ideology }
	storage_type{ contiguous }
	size{ 32 }

	property{
		name{ name }
		type{ text_sequence_id }
	}
}

relationship{
	name{ ideology_group_membership }
	
	link{
		object{ideology}
		name{ideology}
		type{unique}
	}
	link{
		object{ideology_group}
		name{ideology_group}
		type{many}
		index_storage{array}
	}
}

object {
	name{ issue }
	storage_type{ contiguous }
	size{ 120 }

	property{
		name{ name }
		type{ text_sequence_id }
	}
	property{
		name{ options }
		type{ std::array<issue_option_id,6> }
	}
	property{
		name{ is_next_step_only }
		type{ bitfield }
	}
	property{
		name{ is_administrative }
		type{ bitfield }
	}
}

object {
	name{ issue_option }
	storage_type{ contiguous }
	size{ 720 }

	property{
		name{ name }
		type{ text_sequence_id }
	}
}

object {
	name{cb_type}
	storage_type{ contiguous }
	size{ 120 }

	property{
		name{ name }
		type{ text_sequence_id }
	}
	property{
		name{ short_desc }
		type{ text_sequence_id }
	}
	property{
		name{ long_desc }
		type{ text_sequence_id }
	}
	property{
		name{ type_bits }
		type{ uint32_t }
	}
}

object {
	name{leader_trait}
	storage_type{ contiguous }
	size{ 200 }

	property{
		name{ name }
		type{ text_sequence_id }
	}
	property{
		name{ organisation }
		type{ float }
	}
	property{
		name{ morale }
		type{ float }
	}
	property{
		name{ attack }
		type{ float }
	}
	property{
		name{ defence }
		type{ float }
	}
	property{
		name{ reconnaissance }
		type{ float }
	}
	property{
		name{ speed }
		type{ float }
	}
	property{
		name{ experience }
		type{ float }
	}
	property{
		name{ reliability }
		type{ float }
	}
}

object {
	name{ pop_type}
	storage_type{ contiguous }
	size{ 20 }

	property{
		name{ name }
		type{ text_sequence_id }
	}
}

object {
	name{ rebel_type}
	storage_type{ contiguous }
	size{ 60 }

	property{
		name{ name }
		type{ text_sequence_id }
	}
	property{
		name{ description }
		type{ text_sequence_id }
	}
	property{
		name{ army_name }
		type{ text_sequence_id }
	}
}

object {
	name{ province }
	storage_type{ contiguous }
	size{ 8000 }

	property{
		name{ name }
		type{ text_sequence_id }
	}

	property{
		name{ continent }
		type{ modifier_id }
	}
}

object {
	name{ state_definition }
	storage_type{ contiguous }
	size{ 2000 }

	property{
		name{ name }
		type{ text_sequence_id }
	}
}

relationship{
	name{ abstract_state_membership }
	
	link{
		object{province}
		name{province}
		type{unique}
	}
	link{
		object{state_definition}
		name{state}
		type{many}
		index_storage{array}
	}
}
